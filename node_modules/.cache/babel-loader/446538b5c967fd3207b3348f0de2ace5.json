{"ast":null,"code":"import _slicedToArray from\"/home/moringa/Development/code/project/hms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./css/houseproducts.css';import HouseDelete from'./HouseDelete';import HouseStateUpdate from'./HouseStateUpdate';import HousePostDetails from'./HousePostDetails';import HseUpdate from'./HseUpdate';import{NavLink}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HouseProducts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),houseProducts=_useState2[0],setHouseProducts=_useState2[1];useEffect(function(){fetch('https://hmsserver001.herokuapp.com/houses').then(function(res){return res.json();}).then(function(data){return setHouseProducts(data);});});function handleDeleteClick(id){fetch(\"https://hmsserver001.herokuapp.com/houses/\".concat(id),{method:\"DELETE\"}).then(function(r){return r.json();}).then(function(){var updatedQuestions=houseProducts.filter(function(q){return q.id!==id;});setHouseProducts(updatedQuestions);});}function handlePostClick(id){fetch(\"https://hmsserver001.herokuapp.com/houses/\".concat(id)).then(function(r){return r.json();}).then(function(data){return console.log(data);});// alert('now')\n}function handleAnswers(id,name){fetch(\"https://hmsserver001.herokuapp.com/houses/\".concat(id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name})}).then(function(r){return r.json();}).then(function(updatedQuiz){var updatedQuestions=houseProducts.map(function(quiz){if(quiz.id===updatedQuiz.id)return updatedQuiz;return quiz;});setHouseProducts(updatedQuestions);});}var houseProductsList=houseProducts.map(function(house,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mainhouseProducts\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mainProducts\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"column2\",children:[/*#__PURE__*/_jsx(\"img\",{src:house.image2,alt:\"Image house\",className:\"imageProducts\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"imagehouse\",children:[\" \",house.name]}),/*#__PURE__*/_jsx(NavLink,{to:\"/updatehousename\",children:/*#__PURE__*/_jsx(\"button\",{className:\"imageButton imageButton3\",onClick:handleAnswers,children:\"Explore \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"space\",children:\" \"}),/*#__PURE__*/_jsx(HouseDelete,{house:house,onDeleteClick:handleDeleteClick},house.id),/*#__PURE__*/_jsx(HouseStateUpdate,{house:house})]})},house.id)})})})});});return/*#__PURE__*/_jsx(\"div\",{children:houseProductsList});}export default HouseProducts;","map":{"version":3,"names":["React","useEffect","useState","HouseDelete","HouseStateUpdate","HousePostDetails","HseUpdate","NavLink","HouseProducts","houseProducts","setHouseProducts","fetch","then","res","json","data","handleDeleteClick","id","method","r","updatedQuestions","filter","q","handlePostClick","console","log","handleAnswers","name","headers","body","JSON","stringify","updatedQuiz","map","quiz","houseProductsList","house","index","image2"],"sources":["/home/moringa/Development/code/project/hms/src/components/HouseProducts.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\nimport './css/houseproducts.css'\nimport HouseDelete from './HouseDelete';\nimport HouseStateUpdate from './HouseStateUpdate';\nimport HousePostDetails from './HousePostDetails';\nimport HseUpdate from './HseUpdate';\nimport {NavLink} from 'react-router-dom'\n\nfunction HouseProducts() {\n    const [houseProducts, setHouseProducts] = useState([]);\n    useEffect(()=>{\n        fetch('https://hmsserver001.herokuapp.com/houses')\n        .then((res)=>res.json())\n        .then((data)=>setHouseProducts(data))\n    })\n\n    function handleDeleteClick(id) {\n        fetch(`https://hmsserver001.herokuapp.com/houses/${id}`, {\n          method: \"DELETE\",\n        })\n          .then((r) => r.json())\n          .then(() => {\n            const updatedQuestions = houseProducts.filter((q) => q.id !== id);\n            setHouseProducts(updatedQuestions);\n          });\n      }\n      function handlePostClick(id){\n        fetch(`https://hmsserver001.herokuapp.com/houses/${id}`)\n        .then ((r)=>r.json())\n        .then ((data)=>console.log(data))\n        // alert('now')\n         \n\n      }\n      function handleAnswers(id, name) {\n        fetch(`https://hmsserver001.herokuapp.com/houses/${id}`, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ name }),\n        })\n          .then((r) => r.json())\n          .then((updatedQuiz) => {\n            const updatedQuestions = houseProducts.map((quiz) => {\n              if (quiz.id === updatedQuiz.id) return updatedQuiz;\n              return quiz;\n            });\n            setHouseProducts(updatedQuestions);\n          });\n      }\n  \n\n    const houseProductsList = houseProducts.map((house,index)=>(\n        <>\n        <div className='mainhouseProducts'>\n            <div className='mainProducts'>\n                <div className='row'>\n                    <div key={house.id} className='column'>\n                        <div className='column2' >\n                        <img src= {house.image2} alt=\"Image house\" className='imageProducts'></img>\n                            <p className='imagehouse'> {house.name}</p>\n                            {/* <button className='imageButton imageButton3'>Explore</button> */}\n                            {/* <HousePostDetails \n                            index={house.id}\n                            houseName={house.name}\n                            onPostClick={handlePostClick}\n                             /> */}\n                             <NavLink to=\"/updatehousename\">\n\n                                 <button className='imageButton imageButton3' onClick={handleAnswers}>Explore </button>\n                             </NavLink>\n                            <div className='space'> </div>\n                            <HouseDelete \n                                 key={house.id}\n                                 house={house}\n                                onDeleteClick={handleDeleteClick}\n         \n                              />\n                           <HouseStateUpdate\n                       \n                           house={house}\n                \n\n                           />\n\n                        </div>\n\n\n                    </div>\n                    \n                </div>\n\n\n            </div>\n           \n        </div> \n     \n\n\n        </>\n      \n\n\n      \n        \n\n    ));\n    \n\n  return (\n    <div>\n        {houseProductsList}\n       \n    \n\n    </div>\n  )\n}\n\nexport default HouseProducts"],"mappings":"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"},"metadata":{},"sourceType":"module"}